# 产品文档：Travel Deal Planner

## 1. 产品概述
一个网站，用来推荐“最低价出行方案”和“兼顾体验的低价方案”。

- 出发城市：上海（PVG/SHA）
- 试点目的地：乌鲁木齐（URC）、大理（DLU/LJG）、清迈（CNX）
- 舱位：经济舱
- 航班约束：最低价方案不设约束；体验方案最多一次转机
- 酒店：舒适型为主（3 星及以上，评分 >= 4.0）
  - 评分口径：优先使用口碑评分，缺失时用星级兜底
- 抓取频率：每日一次

## 2. 目标与非目标
### 目标
- 给出“最低价方案”和“体验性价比方案”
- 给出“最适合出行时间”和“最适合订购时间”
- 结果可解释（价格走势、转机/时段约束）
- 数据每天更新

### 非目标（MVP 不做）
- 不做直接出票/下单
- 不做复杂的会员/积分/权益优化
- 不做多出发地、多人复杂行程

## 3. 用户输入与输出
### 输入
- 出发地：上海
- 目的地：乌鲁木齐 / 大理 / 清迈
- 出行时长（默认 3-7 天游）
- 偏好：是否接受夜航/清晨、转机次数限制（体验方案）

### 输出
- 最低价方案：
  - 推荐出行日期区间（例如 4/6–4/10）
  - 预计总成本区间（航班 + 酒店）
  - 建议订购窗口（例如出发前 30–45 天）
- 体验性价比方案：
  - 推荐出行日期区间
  - 转机/时段约束内最低价组合
  - 与最低价方案的价差
- 解释说明：
  - 价格走势
  - 是否处于旺季/节假日附近
  - 方案选择原因

## 4. 方案定义
### 4.1 最低价方案
- 不限制红眼、不限制起飞/到达时段
- 允许多次转机
- 目标：最小化总成本

### 4.2 体验性价比方案
- 最多一次转机
- 可配置时段约束（默认：起飞 06:00–22:30，抵达 08:00–23:30）
- 目标：在体验约束内最小化总成本

## 5. 数据策略（核心不确定点）
### 5.1 必要能力
- 航班搜索与报价（含转机、多段）
- 酒店搜索与报价（含星级/评分过滤）
- 价格历史记录（用于订购窗口与趋势）

### 5.2 数据源选择策略
- 优先选择联盟/分销 API（只推荐，不下单）
- 评估标准：覆盖度、价格稳定性、转机组合能力、调用成本
- MVP 只接入 1 个航班 API + 1 个酒店 API

## 6. MVP 验证指标
- 可返回有效方案的查询比例 >= 90%
- 最低价方案与体验方案的价差可解释
- 每日抓取成功率 >= 95%

## 7. 风险与应对
- 数据覆盖不足：限制目的地/航司，或更换数据源
- 价格波动大：输出价格区间与置信度
- 旺季价格极端：给出替代周或提示“高峰期”

## 8. 试点范围
- 出发城市：上海
- 目的地：乌鲁木齐（URC）、大理（DLU/LJG）、清迈（CNX）
- 时间范围：未来 6–9 个月
- 抓取频率：每日一次
